<apex:page standardController="Campaign" standardStylesheets="false" docType="html-5.0">
        <apex:includeLightning />
        <apex:stylesheet value="{!URLFOR($Resource.LightningDesignSystem, '1_0_2/assets/styles/salesforce-lightning-design-system-vf.min.css')}" />

        <style type="text/css">
            html body.sfdcBody {
                padding: 0 !important;
            }
        </style>

        <div id="pageMessages"></div>

        <div class="slds">
            <div class="slds-page-header" role="banner">

                <div class="slds-grid">
                    <div class="slds-col slds-has-flexi-truncate">
                        <div class="slds-media">
                            <div class="slds-media__figure">
                                <img class="slds-icon slds-icon--large slds-icon-standard-campaign" src="{!URLFOR($Resource.LightningDesignSystem, '1_0_2/assets/icons/standard/campaign.svg')}"/>
                            </div>
                            <div class="slds-media__body">
                                <nav role="navigation">
                                    <p id="bread-crumb-label" class="slds-assistive-text">
                                        <apex:outputText value="{!$Label.CampaignToolsListEditorYouAreHere}"/>
                                    </p>
                                    <ol class="slds-breadcrumb slds-list--horizontal" aria-labelledby="bread-crumb-label">
                                        <li class="slds-list__item slds-text-heading--label">
                                            <a class="slds-type-focus" href="{!URLFOR($Action.Campaign.Tab, $ObjectType.Campaign)}">
                                                <apex:outputText value="{!$ObjectType.Campaign.LabelPlural}"/>
                                            </a>
                                        </li>
                                        <li class="slds-list__item slds-text-heading--label">
                                            <a class="slds-type-focus" href="{!URLFOR($Action.Campaign.View, Campaign.Id)}">
                                                <apex:outputText value="{!Campaign.Name}"/>
                                            </a>
                                        </li>
                                    </ol>
                                </nav>

                                <h1 class="slds-page-header__title slds-truncate" title="{!HTMLENCODE($Label.CampaignToolsListEditorTitle)}">
                                    <apex:outputText value="{!$Label.CampaignToolsListEditorTitle}"/>
                                </h1>
                            </div>
                        </div>
                    </div>

                    <div class="slds-col slds-no-flex slds-align-bottom">
                        <div class="slds-button-group" role="group">
                            <a href="{!URLFOR($Action.Campaign.View, Campaign.Id)}" class="slds-button slds-button--neutral">
                                <apex:outputText value="{!$Label.CampaignToolsListEditorCancel}"/>
                            </a>
                            <button id="saveEditor" class="slds-button slds-button--brand">
                                <apex:outputText value="{!$Label.CampaignToolsListEditorSave}"/>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="lightning" class="slds-container--fluid slds-p-around--medium"/>
        </div>

        <script>
            document.getElementById('saveEditor').addEventListener(
                'click',
                function () {
                    var $Aura = (window.opener && window.opener.$A) || window.$A;
                    if (!$Aura) return;
                    var saveEvent = $Aura.get("e.c:CampaignListEditorSaveEvent");
                    if (saveEvent) {
                        saveEvent.fire();
                    }
                }
            );

            $Lightning.use("c:CampaignListEditorApp", function() {
                $Lightning.createComponent(
                    "c:PageMessages",
                    {
                        useToast: {!IF(OR($User.UIThemeDisplayed == 'Theme4d', $User.UIThemeDisplayed == 'Theme4t'), 'true', 'false')}
                    },
                    "pageMessages",
                    function (component) {}
                );

                $Lightning.createComponent(
                    "c:CampaignListEditor",
                    {
                        campaignId : '{!Campaign.Id}',
                        rootSegmentId: '{!Campaign.Campaign_List__c}'
                    },
                    "lightning",
                    function(component) {}
                );
            });
        </script>
</apex:page>